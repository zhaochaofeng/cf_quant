CREATE TABLE IF NOT EXISTS income_ts(
    id INT NOT NULL AUTO_INCREMENT,
    ts_code VARCHAR(10) NOT NULL COMMENT 'TS股票代码，股票代码带BJ/SH/SZ后缀',
    qlib_code VARCHAR(10) NOT NULL COMMENT 'Qlib股票代码, 如 SZ000001',
    ann_date DATE COMMENT '公告日期',
    f_ann_date DATE COMMENT '实际公告日期',
    end_date DATE COMMENT '报告期',
    report_type TINYINT COMMENT '报告类型 见底部表',
    comp_type TINYINT COMMENT '公司类型(1一般工商业2银行3保险4证券)',
    end_type TINYINT COMMENT '报告期类型',
    basic_eps DECIMAL(20, 4) COMMENT '基本每股收益',
    diluted_eps DECIMAL(20, 4) COMMENT '稀释每股收益',
    total_revenue DECIMAL(20, 4) COMMENT '营业总收入',
    revenue DECIMAL(20, 4) COMMENT '营业收入',
    int_income DECIMAL(20, 4) COMMENT '利息收入',
    prem_earned DECIMAL(20, 4) COMMENT '已赚保费',
    comm_income DECIMAL(20, 4) COMMENT '手续费及佣金收入',
    n_commis_income DECIMAL(20, 4) COMMENT '手续费及佣金净收入',
    n_oth_income DECIMAL(20, 4) COMMENT '其他经营净收益',
    n_oth_b_income DECIMAL(20, 4) COMMENT '加:其他业务净收益',
    prem_income DECIMAL(20, 4) COMMENT '保险业务收入',
    out_prem DECIMAL(20, 4) COMMENT '减:分出保费',
    une_prem_reser DECIMAL(20, 4) COMMENT '提取未到期责任准备金',
    reins_income DECIMAL(20, 4) COMMENT '其中:分保费收入',
    n_sec_tb_income DECIMAL(20, 4) COMMENT '代理买卖证券业务净收入',
    n_sec_uw_income DECIMAL(20, 4) COMMENT '证券承销业务净收入',
    n_asset_mg_income DECIMAL(20, 4) COMMENT '受托客户资产管理业务净收入',
    oth_b_income DECIMAL(20, 4) COMMENT '其他业务收入',
    fv_value_chg_gain DECIMAL(20, 4) COMMENT '加:公允价值变动净收益',
    invest_income DECIMAL(20, 4) COMMENT '加:投资净收益',
    ass_invest_income DECIMAL(20, 4) COMMENT '其中:对联营企业和合营企业的投资收益',
    forex_gain DECIMAL(20, 4) COMMENT '加:汇兑净收益',
    total_cogs DECIMAL(20, 4) COMMENT '营业总成本',
    oper_cost DECIMAL(20, 4) COMMENT '减:营业成本',
    int_exp DECIMAL(20, 4) COMMENT '减:利息支出',
    comm_exp DECIMAL(20, 4) COMMENT '减:手续费及佣金支出',
    biz_tax_surchg DECIMAL(20, 4) COMMENT '减:营业税金及附加',
    sell_exp DECIMAL(20, 4) COMMENT '减:销售费用',
    admin_exp DECIMAL(20, 4) COMMENT '减:管理费用',
    fin_exp DECIMAL(20, 4) COMMENT '减:财务费用',
    assets_impair_loss DECIMAL(20, 4) COMMENT '减:资产减值损失',
    prem_refund DECIMAL(20, 4) COMMENT '退保金',
    compens_payout DECIMAL(20, 4) COMMENT '赔付总支出',
    reser_insur_liab DECIMAL(20, 4) COMMENT '提取保险责任准备金',
    div_payt DECIMAL(20, 4) COMMENT '保户红利支出',
    reins_exp DECIMAL(20, 4) COMMENT '分保费用',
    oper_exp DECIMAL(20, 4) COMMENT '营业支出',
    compens_payout_refu DECIMAL(20, 4) COMMENT '减:摊回赔付支出',
    insur_reser_refu DECIMAL(20, 4) COMMENT '减:摊回保险责任准备金',
    reins_cost_refund DECIMAL(20, 4) COMMENT '减:摊回分保费用',
    other_bus_cost DECIMAL(20, 4) COMMENT '其他业务成本',
    operate_profit DECIMAL(20, 4) COMMENT '营业利润',
    non_oper_income DECIMAL(20, 4) COMMENT '加:营业外收入',
    non_oper_exp DECIMAL(20, 4) COMMENT '减:营业外支出',
    nca_disploss DECIMAL(20, 4) COMMENT '其中:减:非流动资产处置净损失',
    total_profit DECIMAL(20, 4) COMMENT '利润总额',
    income_tax DECIMAL(20, 4) COMMENT '所得税费用',
    n_income DECIMAL(20, 4) COMMENT '净利润(含少数股东损益)',
    n_income_attr_p DECIMAL(20, 4) COMMENT '净利润(不含少数股东损益)',
    minority_gain DECIMAL(20, 4) COMMENT '少数股东损益',
    oth_compr_income DECIMAL(20, 4) COMMENT '其他综合收益',
    t_compr_income DECIMAL(20, 4) COMMENT '综合收益总额',
    compr_inc_attr_p DECIMAL(20, 4) COMMENT '归属于母公司(或股东)的综合收益总额',
    compr_inc_attr_m_s DECIMAL(20, 4) COMMENT '归属于少数股东的综合收益总额',
    ebit DECIMAL(20, 4) COMMENT '息税前利润',
    ebitda DECIMAL(20, 4) COMMENT '息税折旧摊销前利润',
    insurance_exp DECIMAL(20, 4) COMMENT '保险业务支出',
    undist_profit DECIMAL(20, 4) COMMENT '年初未分配利润',
    distable_profit DECIMAL(20, 4) COMMENT '可分配利润',
    rd_exp DECIMAL(20, 4) COMMENT '研发费用',
    fin_exp_int_exp DECIMAL(20, 4) COMMENT '财务费用:利息费用',
    fin_exp_int_inc DECIMAL(20, 4) COMMENT '财务费用:利息收入',
    transfer_surplus_rese DECIMAL(20, 4) COMMENT '盈余公积转入',
    transfer_housing_imprest DECIMAL(20, 4) COMMENT '住房周转金转入',
    transfer_oth DECIMAL(20, 4) COMMENT '其他转入',
    adj_lossgain DECIMAL(20, 4) COMMENT '调整以前年度损益',
    withdra_legal_surplus DECIMAL(20, 4) COMMENT '提取法定盈余公积',
    withdra_legal_pubfund DECIMAL(20, 4) COMMENT '提取法定公益金',
    withdra_biz_devfund DECIMAL(20, 4) COMMENT '提取企业发展基金',
    withdra_rese_fund DECIMAL(20, 4) COMMENT '提取储备基金',
    withdra_oth_ersu DECIMAL(20, 4) COMMENT '提取任意盈余公积金',
    workers_welfare DECIMAL(20, 4) COMMENT '职工奖金福利',
    distr_profit_shrhder DECIMAL(20, 4) COMMENT '可供股东分配的利润',
    prfshare_payable_dvd DECIMAL(20, 4) COMMENT '应付优先股股利',
    comshare_payable_dvd DECIMAL(20, 4) COMMENT '应付普通股股利',
    capit_comstock_div DECIMAL(20, 4) COMMENT '转作股本的普通股股利',
    continued_net_profit DECIMAL(20, 4) COMMENT '持续经营净利润',
    update_flag TINYINT COMMENT '更新标识',
    PRIMARY KEY (id),
    UNIQUE KEY uk_day_code(end_date, ts_code, f_ann_date, update_flag),
    INDEX qlib_index(qlib_code)
) ENGINE=InnoDB
  DEFAULT CHARSET=utf8mb4
  COLLATE=utf8mb4_unicode_ci
  COMMENT='tushare-利润表'
  AUTO_INCREMENT=1;

